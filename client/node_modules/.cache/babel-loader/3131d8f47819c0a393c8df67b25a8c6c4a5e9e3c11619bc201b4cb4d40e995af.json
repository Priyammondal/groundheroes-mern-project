{"ast":null,"code":"var _jsxFileName = \"/home/priyam/Desktop/groundheroes-mern-project/client/src/components/MainSearchModule/index.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState, useRef } from \"react\";\nimport { SearchModuleWrapper, SearchButton, SearchInputWrapper, SearchInput } from \"./Style\";\nimport SearchIcon from \"../../assets/icons/Search.svg\";\nimport { useNavigate } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport GHLoader from \"../GroundHeroLoader\";\n\n// api\nimport groundHeroes from \"../../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MainSearchModule = () => {\n  _s();\n  const [pinCode, setPinCode] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(\"\");\n  const navigate = useNavigate();\n  const searchRef = useRef();\n  let regexPincode = new RegExp(/^[1-9]{1}[0-9]{2}\\s{0,1}[0-9]{3}$/);\n  useEffect(() => {\n    searchRef.current.focus();\n  }, []);\n  const fetchDataByPincode = async pincode => {\n    try {\n      if (pincode.length > 0) {\n        if (!regexPincode.test(pincode)) {\n          setTimeout(() => {\n            setIsLoading(false);\n            toast.error(\"Please Enter a Valid Pincode\", {\n              position: \"bottom-center\",\n              duration: 2000\n            });\n          }, 3000);\n        } else {\n          const response = await groundHeroes.get(`/getusers/${pinCode}`);\n          setTimeout(() => {\n            setIsLoading(false);\n            if (response.data.length > 0) {\n              navigate(`/category/?pin=${pinCode}`);\n            } else {\n              toast.error(\"No service found at your location\", {\n                position: \"bottom-center\",\n                duration: 2000\n              });\n            }\n          }, 3000);\n        }\n      }\n    } catch (err) {\n      console.log(\"error-->\", err);\n    }\n  };\n  const handleSearch = e => {\n    e.preventDefault();\n    if (pinCode.length > 0) {\n      setIsLoading(true);\n      fetchDataByPincode(pinCode);\n    } else {\n      toast.error(\"Please Enter a Pincode!\", {\n        position: \"bottom-center\",\n        duration: 2000\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(SearchModuleWrapper, {\n    onSubmit: handleSearch,\n    children: [/*#__PURE__*/_jsxDEV(SearchInputWrapper, {\n      children: /*#__PURE__*/_jsxDEV(SearchInput, {\n        type: \"text\",\n        placeholder: \"Enter Your Pincode\",\n        value: pinCode,\n        onChange: e => setPinCode(e.target.value),\n        ref: searchRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchButton, {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: SearchIcon,\n        alt: \"SearchIcon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(GHLoader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(MainSearchModule, \"eHEzsDm8ut17EYc13waNvnkftmA=\", false, function () {\n  return [useNavigate];\n});\n_c = MainSearchModule;\nexport default MainSearchModule;\nvar _c;\n$RefreshReg$(_c, \"MainSearchModule\");","map":{"version":3,"names":["React","useContext","useEffect","useState","useRef","SearchModuleWrapper","SearchButton","SearchInputWrapper","SearchInput","SearchIcon","useNavigate","toast","GHLoader","groundHeroes","jsxDEV","_jsxDEV","MainSearchModule","_s","pinCode","setPinCode","isLoading","setIsLoading","navigate","searchRef","regexPincode","RegExp","current","focus","fetchDataByPincode","pincode","length","test","setTimeout","error","position","duration","response","get","data","err","console","log","handleSearch","e","preventDefault","onSubmit","children","type","placeholder","value","onChange","target","ref","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","_c","$RefreshReg$"],"sources":["/home/priyam/Desktop/groundheroes-mern-project/client/src/components/MainSearchModule/index.js"],"sourcesContent":["import React, { useContext, useEffect, useState, useRef } from \"react\";\nimport {\n  SearchModuleWrapper,\n  SearchButton,\n  SearchInputWrapper,\n  SearchInput,\n} from \"./Style\";\nimport SearchIcon from \"../../assets/icons/Search.svg\";\nimport { useNavigate } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport GHLoader from \"../GroundHeroLoader\";\n\n// api\nimport groundHeroes from \"../../api\";\n\nconst MainSearchModule = () => {\n  const [pinCode, setPinCode] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(\"\");\n  const navigate = useNavigate();\n  const searchRef = useRef();\n  let regexPincode = new RegExp(/^[1-9]{1}[0-9]{2}\\s{0,1}[0-9]{3}$/);\n\n  useEffect(() => {\n    searchRef.current.focus();\n  }, []);\n\n  const fetchDataByPincode = async (pincode) => {\n    try {\n      if (pincode.length > 0) {\n        if (!regexPincode.test(pincode)) {\n          setTimeout(() => {\n            setIsLoading(false);\n            toast.error(\"Please Enter a Valid Pincode\", {\n              position: \"bottom-center\",\n              duration: 2000,\n            });\n          }, 3000);\n        } else {\n          const response = await groundHeroes.get(`/getusers/${pinCode}`);\n          setTimeout(() => {\n            setIsLoading(false);\n            if (response.data.length > 0) {\n              navigate(`/category/?pin=${pinCode}`);\n            } else {\n              toast.error(\"No service found at your location\", {\n                position: \"bottom-center\",\n                duration: 2000,\n              });\n            }\n          }, 3000);\n        }\n      }\n    } catch (err) {\n      console.log(\"error-->\", err);\n    }\n  };\n  const handleSearch = (e) => {\n    e.preventDefault();\n    if (pinCode.length > 0) {\n      setIsLoading(true);\n      fetchDataByPincode(pinCode);\n    } else {\n      toast.error(\"Please Enter a Pincode!\", {\n        position: \"bottom-center\",\n        duration: 2000,\n      });\n    }\n  };\n  return (\n    <SearchModuleWrapper onSubmit={handleSearch}>\n      <SearchInputWrapper>\n        <SearchInput\n          type=\"text\"\n          placeholder=\"Enter Your Pincode\"\n          value={pinCode}\n          onChange={(e) => setPinCode(e.target.value)}\n          ref={searchRef}\n        />\n      </SearchInputWrapper>\n      <SearchButton>\n        <img src={SearchIcon} alt=\"SearchIcon\" />\n      </SearchButton>\n\n      {isLoading && <GHLoader />}\n    </SearchModuleWrapper>\n  );\n};\n\nexport default MainSearchModule;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}